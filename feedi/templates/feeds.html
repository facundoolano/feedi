{% extends "base.html" %}

{% block content %}
<div class="box is-radiusless feed-entry  ">
    <div class="content">
        <h3>Feeds</h3>
    </div>
    <table class="table is-hoverable is-fullwidth">
        <tbody>
            {% for feed in feeds %}
            <tr>
                <td class="is-narrow">
                    <a href="{{ url_for('entry_list', feed_name=feed.name )}}">
                        <figure class="image is-24x24 ">
                            <img class="feed-avatar is-rounded" {%if feed.icon_url%}src="{{ feed.icon_url }}"{%endif%} alt="{{ feed.name.0 }}">
                        </figure>
                    </a>
                </td>
                <td>
                    <a href="{{ url_for('entry_list', feed_name=feed.name )}}">{{ feed.name }}</a>
                </td>
                <td>{% if feed.folder %}<span class="icon"><i class="far fa-folder-open"></i></span> {{ feed.folder }}{% endif %}</td>
                <td class="is-narrow"><a hx-delete="{{ url_for('feed_delete', feed_name=feed.name )}}" title="delete" _="on click remove the closest <tr/>"
                                      ><span class="icon"><i class="far fa-trash-alt"></i></span></a></td>
                <td class="is-narrow"><a href="{{ url_for('feed_edit', feed_name=feed.name )}}" title="edit"><span class="icon"><i class="fas fa-edit"></i></span></a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}


{% block sidebar_right %}
<a class="dropdown-item is-hidden-mobile" href="{{ url_for('feed_add') }}"><icon class="icon"><i class="fas fa-plus"></i></icon> Add feed</a>
<a class="dropdown-item is-hidden-mobile" href="{{ url_for('mastodon_oauth') }}"><icon class="icon"><i class="fab fa-mastodon"></i></icon> Mastodon login</a>
{% endblock %}
