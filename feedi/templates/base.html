<!doctype html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/bulma.min.css">
    <link rel="stylesheet" href="/static/css/fontawesome.min.css">
    <script src="/static/js/htmx.min.js"></script>
    <script src="/static/js/hyperscript.min.js"></script>
    <title>Feedi</title>
</head>
<body class="has-background-light">
    <div class="columns">
        <div class="column">
            <div class="columns is-hidden-mobile feeds-sidebar-parent">
                <div class="column" ></div>
                <div class="column">
            <aside class="menu feeds-sidebar">
                <ul class="menu-list">
                    {% with name="Timeline", icon="far fa-list-alt", url="/", feeds=None %}
                      {% include "sidebar_folder.html" %}
                    {% endwith %}
                    {% with name="Smartline", icon="fas fa-robot", url="/", feeds=None %}
                      {% include "sidebar_folder.html" %}
                    {% endwith %}
                    <hr class="dropdown-divider"/>
                    {% with name="News", url="/" %}
                      {% include "sidebar_folder.html" %}
                    {% endwith %}
                    {% with name="Social", url="/" %}
                      {% include "sidebar_folder.html" %}
                    {% endwith %}
                    <hr class="dropdown-divider"/>
                    {% for feed in feeds %}
                      <li class="level-left {% if selected_feed == feed.name %}is-active{% endif %}">
                        <div class="level-item">
                          <figure class="image is-16x16 ">
                            <img class="is-rounded" src="{{ feed.icon_url }}">
                          </figure>
                          <a hx-get="/feeds/{{feed.name}}" hx-push-url="true" hx-target="#entry-list"
                             hx-swap="innerHTML show:top"
                             _="on click remove .is-active from  .level-left
                             then add .is-active to the closest .level-left"
                             >{{ feed.name }}</a>
                        </div>
                      </li>
                    {% endfor %}
                    <hr class="dropdown-divider"/>
                    <li>
                        <div class="level-left">
                            <div class="level-item">
                                <icon><i class="far fa-star"></i></icon>
                                <a href="/">Favorites</a>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="level-left">
                            <div class="level-item">
                                <icon><i class="far fa-trash-alt"></i></icon>
                                <a href="/">Trash</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </aside>
                </div>
            </div>

        </div>
        <div class="column is-half" id="entry-list">
            {% include "entry_list.html" %}
        </div>
        <div class="column is-paddingless">
            <aside class="level side-bar">
                <div class="level-left">
                    <p class="level-item">
                        <button class="button is-medium is-rounded is-light {% if not session.hide_media %}toggled{% endif %}"
                                hx-post="/session/hide_media/"
                                _="on click toggle .is-hidden on .media-url-container then toggle .toggled on me"
                                title="Toggle thumbnails"><i class="fas fa-images"></i></button>
                    </p>
                </div>
            </aside>
        </div>
    </div>
    </div>
</body>
